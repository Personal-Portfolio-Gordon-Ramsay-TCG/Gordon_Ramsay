<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Nikita Johnson">

<title>index</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="CleaningFormattingMerging_R_files/libs/clipboard/clipboard.min.js"></script>
<script src="CleaningFormattingMerging_R_files/libs/quarto-html/quarto.js"></script>
<script src="CleaningFormattingMerging_R_files/libs/quarto-html/popper.min.js"></script>
<script src="CleaningFormattingMerging_R_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="CleaningFormattingMerging_R_files/libs/quarto-html/anchor.min.js"></script>
<link href="CleaningFormattingMerging_R_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="CleaningFormattingMerging_R_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="CleaningFormattingMerging_R_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="CleaningFormattingMerging_R_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="CleaningFormattingMerging_R_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">


</head>

<body class="fullcontent">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">index</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Nikita Johnson </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="kitchen-nightmares-data" class="level2">
<h2 class="anchored" data-anchor-id="kitchen-nightmares-data">Kitchen Nightmares Data</h2>
<section id="data-cleaning" class="level3">
<h3 class="anchored" data-anchor-id="data-cleaning">Data Cleaning</h3>
<ol type="1">
<li>Read in <a href="https://github.com/DataPreProcessing-FALL2024/Deli3Test/raw/refs/heads/main/Data/messy_kitchen_nightmares.csv">Messy Kitchen Nightmares data link</a> from Github repository.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ forcats   1.0.0     ✔ readr     2.1.5
✔ ggplot2   3.5.1     ✔ stringr   1.5.1
✔ lubridate 1.9.3     ✔ tibble    3.2.1
✔ purrr     1.0.2     ✔ tidyr     1.3.1</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>kn_link<span class="ot">=</span><span class="st">"https://github.com/Personal-Portfolio-Gordon-Ramsay-TCG/Gordon_Ramsay/raw/refs/heads/main/Messy%20Data/messy_kitchen_nightmares.csv"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Read in CSV file from link.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>kn_data <span class="ot">=</span> <span class="fu">read.csv</span>(kn_link) </span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(kn_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  X SeAsOn EPISODE       r.estaurant.name        cIty STAte o.riginala.ir.date
1 1    oNE     one             Peter's...     Babylon    NY         2007-09-19
2 2      1       2            Dillon's...         NYC    NY         2007-09-26
3 3      1       3     The Mixing Bowl...    Bellmore    NY     october 3 2007
4 4    uno       4            Seascape...       Islip    NY         2007-10-10
5 5      1    five The Olde Stone Mill...    Tuckahoe    NY         2007-10-17
6 6      1       6         Sebastian's... Toluca Lake    CA         2007-11-07
  s.tatus ORIginalfilmMONTH Closing.Year  Cuisine Revisited Two.Parts
1  closed          Mar 2007         2008  Italian        No        No
2  Closed          Mar 2007         2008   Indian        No         N
3  Closed          Mar 2007         2009 american        No        No
4  Closed          Mar 2007         2007  Seafood       No.        No
5  closed          Mar 2007         2022 American       Yes        No
6  Closed          Feb 2007         2008 Pizzeria        No        No</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Clean column names and drop the first column because it is unnecessary.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(kn_data)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "X"                  "SeAsOn"             "EPISODE"           
 [4] "r.estaurant.name"   "cIty"               "STAte"             
 [7] "o.riginala.ir.date" "s.tatus"            "ORIginalfilmMONTH" 
[10] "Closing.Year"       "Cuisine"            "Revisited"         
[13] "Two.Parts"         </code></pre>
</div>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>kn_data <span class="ot">&lt;-</span> kn_data[, <span class="sc">-</span><span class="dv">1</span>]  </span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(kn_data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'season'</span>, <span class="st">'episode'</span>, <span class="st">'restaurant'</span>, <span class="st">'city'</span>, <span class="st">'state'</span>, <span class="st">'air_date'</span>, <span class="st">'status'</span>, <span class="st">'film_month'</span>, <span class="st">'closing_year'</span>, <span class="st">'cuisine'</span>,   <span class="st">'revisited'</span>, <span class="st">'two_parts'</span>)  </span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(kn_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  season episode             restaurant        city state       air_date
1    oNE     one             Peter's...     Babylon    NY     2007-09-19
2      1       2            Dillon's...         NYC    NY     2007-09-26
3      1       3     The Mixing Bowl...    Bellmore    NY october 3 2007
4    uno       4            Seascape...       Islip    NY     2007-10-10
5      1    five The Olde Stone Mill...    Tuckahoe    NY     2007-10-17
6      1       6         Sebastian's... Toluca Lake    CA     2007-11-07
   status film_month closing_year  cuisine revisited two_parts
1  closed   Mar 2007         2008  Italian        No        No
2  Closed   Mar 2007         2008   Indian        No         N
3  Closed   Mar 2007         2009 american        No        No
4  Closed   Mar 2007         2007  Seafood       No.        No
5  closed   Mar 2007         2022 American       Yes        No
6  Closed   Feb 2007         2008 Pizzeria        No        No</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Next, we will make a frequency table for the ‘season’ column.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>season_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season) <span class="sc">%&gt;%</span>   </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a>season_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 × 2
   season     frequency
   &lt;chr&gt;          &lt;int&gt;
 1 "5"               13
 2 "4"               12
 3 "6"               12
 4 "3"               11
 5 "2"               10
 6 "8"               10
 7 "1"                8
 8 "7"                6
 9 " uno"             1
10 "22222222"         1
11 "fifth"            1
12 "oNE"              1
13 "six"              1</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>There are some odd values, so we should fix them manually. Then, re-call frequency table to check work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>season[kn_data<span class="sc">$</span>season <span class="sc">==</span> <span class="st">" uno"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>season[kn_data<span class="sc">$</span>season <span class="sc">==</span> <span class="st">"22222222"</span>] <span class="ot">&lt;-</span> <span class="st">"2"</span></span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>season[kn_data<span class="sc">$</span>season <span class="sc">==</span> <span class="st">"fifth"</span>] <span class="ot">&lt;-</span> <span class="st">"5"</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>season[kn_data<span class="sc">$</span>season <span class="sc">==</span> <span class="st">"oNE"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>season[kn_data<span class="sc">$</span>season <span class="sc">==</span> <span class="st">"six"</span>] <span class="ot">&lt;-</span> <span class="st">"6"</span></span>
<span id="cb17-6"><a href="#cb17-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-7"><a href="#cb17-7" aria-hidden="true" tabindex="-1"></a>season_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb17-8"><a href="#cb17-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season) <span class="sc">%&gt;%</span>   </span>
<span id="cb17-9"><a href="#cb17-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb17-10"><a href="#cb17-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb17-11"><a href="#cb17-11" aria-hidden="true" tabindex="-1"></a>season_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  season frequency
  &lt;chr&gt;      &lt;int&gt;
1 5             14
2 6             13
3 4             12
4 2             11
5 3             11
6 1             10
7 8             10
8 7              6</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Then, we’ll move on to the ‘episode’ column and create a frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>ep_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(episode) <span class="sc">%&gt;%</span>   </span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>ep_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 23 × 2
   episode frequency
   &lt;chr&gt;       &lt;int&gt;
 1 9               8
 2 2               7
 3 3               7
 4 4               7
 5 5               6
 6 6               6
 7 7               6
 8 8               6
 9 1               5
10 10              5
# ℹ 13 more rows</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>There are some odd values, so we should fix them manually. Then, re-call frequency table to check work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>episode[kn_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">" eeleven"</span>] <span class="ot">&lt;-</span> <span class="st">"11"</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>episode[kn_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">" one"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>episode[kn_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">"TEN!"</span>] <span class="ot">&lt;-</span> <span class="st">"10"</span></span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>episode[kn_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">"five"</span>] <span class="ot">&lt;-</span> <span class="st">"5"</span></span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>episode[kn_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">"sEven"</span>] <span class="ot">&lt;-</span> <span class="st">"7"</span></span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>episode[kn_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">"tree"</span>] <span class="ot">&lt;-</span> <span class="st">"3"</span></span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>ep_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(episode) <span class="sc">%&gt;%</span>   </span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a>ep_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 17 × 2
   episode frequency
   &lt;chr&gt;       &lt;int&gt;
 1 3               8
 2 9               8
 3 2               7
 4 4               7
 5 5               7
 6 7               7
 7 1               6
 8 10              6
 9 6               6
10 8               6
11 11              4
12 12              4
13 13              3
14 14              3
15 15              2
16 16              2
17 17              1</code></pre>
</div>
</div>
<ol start="8" type="1">
<li>Next, we will make a frequency table for the ‘restaurant’ column.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>restaurant_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(restaurant) <span class="sc">%&gt;%</span>   </span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>restaurant_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 2
   restaurant           frequency
   &lt;chr&gt;                    &lt;int&gt;
 1 Amy's Baking Company         1
 2 Anna Vincenzo's              1
 3 BaREfoOt BoB's               1
 4 Bask 46                      1
 5 Bazzini                      1
 6 Bel Aire                     1
 7 Bella Luna                   1
 8 Black Pearl...               1
 9 Blackberry's                 1
10 Burger Kitchen01             1
# ℹ 77 more rows</code></pre>
</div>
</div>
<ol start="9" type="1">
<li>There are some odd values, so we will need to change them manually. There are also some strings that are reoccurring at the end of some of the restaurant names such as “…” that need to be removed. Then, re-call frequency table to check work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove '...' string from end of all cells in column</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>restaurant <span class="ot">&lt;-</span> <span class="fu">str_replace_all</span>(kn_data<span class="sc">$</span>restaurant, <span class="fu">fixed</span>(<span class="st">"..."</span>), <span class="st">""</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb25-5"><a href="#cb25-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>restaurant[kn_data<span class="sc">$</span>restaurant <span class="sc">==</span> <span class="st">"BaREfoOt BoB's"</span>] <span class="ot">&lt;-</span> <span class="st">"Barefoot Bob's"</span></span>
<span id="cb25-6"><a href="#cb25-6" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>restaurant[kn_data<span class="sc">$</span>restaurant <span class="sc">==</span> <span class="st">"Burger Kitchen01"</span>] <span class="ot">&lt;-</span> <span class="st">"Burger Kitchen"</span></span>
<span id="cb25-7"><a href="#cb25-7" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>restaurant[kn_data<span class="sc">$</span>restaurant <span class="sc">==</span> <span class="st">"FlAmAnGo'S"</span>] <span class="ot">&lt;-</span> <span class="st">"Flamango's"</span></span>
<span id="cb25-8"><a href="#cb25-8" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>restaurant[kn_data<span class="sc">$</span>restaurant <span class="sc">==</span> <span class="st">"FlEmINg"</span>] <span class="ot">&lt;-</span> <span class="st">"Fleming"</span></span>
<span id="cb25-9"><a href="#cb25-9" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>restaurant[kn_data<span class="sc">$</span>restaurant <span class="sc">==</span> <span class="st">"Mangia Mangia--"</span>] <span class="ot">&lt;-</span> <span class="st">"Mangia Mangia"</span></span>
<span id="cb25-10"><a href="#cb25-10" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>restaurant[kn_data<span class="sc">$</span>restaurant <span class="sc">==</span> <span class="st">"Pantaleone's:"</span>] <span class="ot">&lt;-</span> <span class="st">"Pantaleone's"</span></span>
<span id="cb25-11"><a href="#cb25-11" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>restaurant[kn_data<span class="sc">$</span>restaurant <span class="sc">==</span> <span class="st">"Sushi-Ko?"</span>] <span class="ot">&lt;-</span> <span class="st">"Sushi-Ko"</span></span>
<span id="cb25-12"><a href="#cb25-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-13"><a href="#cb25-13" aria-hidden="true" tabindex="-1"></a>restaurant_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb25-14"><a href="#cb25-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(restaurant) <span class="sc">%&gt;%</span>   </span>
<span id="cb25-15"><a href="#cb25-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb25-16"><a href="#cb25-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb25-17"><a href="#cb25-17" aria-hidden="true" tabindex="-1"></a>restaurant_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 87 × 2
   restaurant           frequency
   &lt;chr&gt;                    &lt;int&gt;
 1 Amy's Baking Company         1
 2 Anna Vincenzo's              1
 3 Barefoot Bob's               1
 4 Bask 46                      1
 5 Bazzini                      1
 6 Bel Aire                     1
 7 Bella Luna                   1
 8 Black Pearl                  1
 9 Blackberry's                 1
10 Burger Kitchen               1
# ℹ 77 more rows</code></pre>
</div>
</div>
<ol start="10" type="1">
<li>Next, let’s look at the ‘city’ frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>city_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(city) <span class="sc">%&gt;%</span>   </span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb27-5"><a href="#cb27-5" aria-hidden="true" tabindex="-1"></a>city_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 79 × 2
   city          frequency
   &lt;chr&gt;             &lt;int&gt;
 1 Brooklyn              4
 2 Babylon               2
 3 Boston                2
 4 Philadelphia          2
 5 Queens                2
 6 Woodland Park         2
 7 Anaheim               1
 8 Arvada                1
 9 Astoria               1
10 Atlanta               1
# ℹ 69 more rows</code></pre>
</div>
</div>
<ol start="11" type="1">
<li>There are a couple values that need to be manually changed since they were put in as abbreviations. There is also one value with the string ‘…’ at the end that needs to be fixed. Then, we’ll re-call the frequency table to check our work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>city[kn_data<span class="sc">$</span>city <span class="sc">==</span> <span class="st">"LA"</span>] <span class="ot">&lt;-</span> <span class="st">"Los Angeles"</span></span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>city[kn_data<span class="sc">$</span>city <span class="sc">==</span> <span class="st">"NYC"</span>] <span class="ot">&lt;-</span> <span class="st">"New York City"</span></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>city[kn_data<span class="sc">$</span>city <span class="sc">==</span> <span class="st">"Harrison..."</span>] <span class="ot">&lt;-</span> <span class="st">"Harrison"</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a>city_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(city) <span class="sc">%&gt;%</span>   </span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>city_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 77 × 2
   city          frequency
   &lt;chr&gt;             &lt;int&gt;
 1 Brooklyn              4
 2 Babylon               2
 3 Boston                2
 4 Los Angeles           2
 5 New York City         2
 6 Philadelphia          2
 7 Queens                2
 8 Woodland Park         2
 9 Anaheim               1
10 Arvada                1
# ℹ 67 more rows</code></pre>
</div>
</div>
<ol start="12" type="1">
<li>Next, let’s look at the ‘state’ column and create a frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>state_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span>   </span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>state_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 25 × 2
   state frequency
   &lt;chr&gt;     &lt;int&gt;
 1 NY           20
 2 CA           18
 3 NJ           11
 4 PA            6
 5 MA            4
 6 CO            3
 7 FL            3
 8 CT            2
 9 GA            2
10 MI            2
# ℹ 15 more rows</code></pre>
</div>
</div>
<ol start="13" type="1">
<li>There are some values that need to be manually fixed since they were not inputted in the correct format. After, we will re-call our ‘state’ frequency table to check our work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>state[kn_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"NEW YORK"</span>] <span class="ot">&lt;-</span> <span class="st">"NY"</span></span>
<span id="cb33-3"><a href="#cb33-3" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>state[kn_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"New Orleans, LA"</span>] <span class="ot">&lt;-</span> <span class="st">"LA"</span></span>
<span id="cb33-4"><a href="#cb33-4" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>state[kn_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"cali"</span>] <span class="ot">&lt;-</span> <span class="st">"CA"</span></span>
<span id="cb33-5"><a href="#cb33-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>state[kn_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"jersey"</span>] <span class="ot">&lt;-</span> <span class="st">"NJ"</span></span>
<span id="cb33-6"><a href="#cb33-6" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>state[kn_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"new jersey"</span>] <span class="ot">&lt;-</span> <span class="st">"NJ"</span></span>
<span id="cb33-7"><a href="#cb33-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-8"><a href="#cb33-8" aria-hidden="true" tabindex="-1"></a>state_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb33-9"><a href="#cb33-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span>   </span>
<span id="cb33-10"><a href="#cb33-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb33-11"><a href="#cb33-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb33-12"><a href="#cb33-12" aria-hidden="true" tabindex="-1"></a>state_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 2
   state frequency
   &lt;chr&gt;     &lt;int&gt;
 1 NY           21
 2 CA           19
 3 NJ           13
 4 PA            6
 5 MA            4
 6 CO            3
 7 FL            3
 8 CT            2
 9 GA            2
10 LA            2
11 MI            2
12 WA            2
13 AZ            1
14 IL            1
15 IN            1
16 MD            1
17 OH            1
18 RI            1
19 TN            1
20 TX            1</code></pre>
</div>
</div>
<ol start="14" type="1">
<li>Next, let’s look at the ‘air_date’ column and create a frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>airdate_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(air_date) <span class="sc">%&gt;%</span>   </span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a>airdate_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 84 × 2
   air_date           frequency
   &lt;chr&gt;                  &lt;int&gt;
 1 2008-11-06                 2
 2 2008-11-13                 2
 3 2014-04-18                 2
 4 09-25-2008                 1
 5 12th of march 2010         1
 6 2007-09-19                 1
 7 2007-09-26                 1
 8 2007-10-10                 1
 9 2007-10-17                 1
10 2007-11-07                 1
# ℹ 74 more rows</code></pre>
</div>
</div>
<ol start="15" type="1">
<li>We want to make sure everything is in the correct date format so it can later be read in by R as a datetime object. Let’s manually change the incorrect values to the format of Y-M-D. Then, we’ll re-call the ‘air_date’ frequency table to check our work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>air_date[kn_data<span class="sc">$</span>air_date <span class="sc">==</span> <span class="st">"09-25-2008"</span>] <span class="ot">&lt;-</span> <span class="st">"2008-09-25"</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>air_date[kn_data<span class="sc">$</span>air_date <span class="sc">==</span> <span class="st">"12th of march 2010"</span>] <span class="ot">&lt;-</span> <span class="st">"2010-03-12"</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>air_date[kn_data<span class="sc">$</span>air_date <span class="sc">==</span> <span class="st">"2023-12-4"</span>] <span class="ot">&lt;-</span> <span class="st">"2023-12-04"</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>air_date[kn_data<span class="sc">$</span>air_date <span class="sc">==</span> <span class="st">"may 2 2014"</span>] <span class="ot">&lt;-</span> <span class="st">"2014-05-02"</span></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>air_date[kn_data<span class="sc">$</span>air_date <span class="sc">==</span> <span class="st">"october 3 2007"</span>] <span class="ot">&lt;-</span> <span class="st">"2007-10-03"</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>airdate_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(air_date) <span class="sc">%&gt;%</span>   </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>airdate_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 82 × 2
   air_date   frequency
   &lt;chr&gt;          &lt;int&gt;
 1 2008-09-25         2
 2 2008-11-06         2
 3 2008-11-13         2
 4 2014-04-18         2
 5 2023-12-04         2
 6 2007-09-19         1
 7 2007-09-26         1
 8 2007-10-03         1
 9 2007-10-10         1
10 2007-10-17         1
# ℹ 72 more rows</code></pre>
</div>
</div>
<ol start="16" type="1">
<li>Next, we’ll make a ‘status’ frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>status_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(status) <span class="sc">%&gt;%</span>   </span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>status_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 2
   status       frequency
   &lt;chr&gt;            &lt;int&gt;
 1 "Closed"            58
 2 "Open"              18
 3 " Closed"            2
 4 " closed"            2
 5 "closed"             2
 6 " not open "         1
 7 "Open."              1
 8 "c"                  1
 9 "closed."            1
10 "open"               1</code></pre>
</div>
</div>
<ol start="17" type="1">
<li>We should get rid of leading spaces and also change values manually to create only two possible values- ‘closed’ and ‘open’.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove leading spaces</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>status <span class="ot">&lt;-</span> <span class="fu">str_trim</span>(kn_data<span class="sc">$</span>status, <span class="st">"left"</span>)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>status[kn_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"closed"</span>] <span class="ot">&lt;-</span> <span class="st">"Closed"</span></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>status[kn_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"Open."</span>] <span class="ot">&lt;-</span> <span class="st">"Open"</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>status[kn_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"c"</span>] <span class="ot">&lt;-</span> <span class="st">"Closed"</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>status[kn_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"closed."</span>] <span class="ot">&lt;-</span> <span class="st">"Closed"</span></span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>status[kn_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"not open "</span>] <span class="ot">&lt;-</span> <span class="st">"Closed"</span></span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>status[kn_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"open"</span>] <span class="ot">&lt;-</span> <span class="st">"Open"</span></span>
<span id="cb41-11"><a href="#cb41-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-12"><a href="#cb41-12" aria-hidden="true" tabindex="-1"></a>status_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb41-13"><a href="#cb41-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(status) <span class="sc">%&gt;%</span>   </span>
<span id="cb41-14"><a href="#cb41-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb41-15"><a href="#cb41-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-16"><a href="#cb41-16" aria-hidden="true" tabindex="-1"></a>status_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  status frequency
  &lt;chr&gt;      &lt;int&gt;
1 Closed        67
2 Open          20</code></pre>
</div>
</div>
<ol start="18" type="1">
<li>Next, let’s make a ‘film_month’ frequency table. Everything looks normal here, so we will move on.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>filmmonth_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(film_month) <span class="sc">%&gt;%</span>   </span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a>filmmonth_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 26 × 2
   film_month frequency
   &lt;chr&gt;          &lt;int&gt;
 1 Feb 2008           9
 2 Jun 2023           8
 3 Mar 2007           7
 4 Jul 2009           6
 5 Jan 2011           5
 6 Jul 2011           4
 7 Jul 2013           4
 8 Jun 2012           4
 9 May 2009           4
10 Aug 2011           3
# ℹ 16 more rows</code></pre>
</div>
</div>
<ol start="19" type="1">
<li>Next, let’s make a ‘closing_year’ frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>closeyear_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(closing_year) <span class="sc">%&gt;%</span>   </span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>closeyear_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 23 × 2
   closing_year frequency
   &lt;chr&gt;            &lt;int&gt;
 1 N/A                 12
 2 2010                11
 3 2008                 7
 4 2013                 7
 5 2009                 6
 6 2012                 6
 7 2016                 6
 8 2014                 5
 9 2011                 4
10 2022                 3
# ℹ 13 more rows</code></pre>
</div>
</div>
<ol start="20" type="1">
<li>There are many different values that need to be read in by R as NA values and need to be manually changed to NAs. After, we will re-call the frequency table to confirm that our changes worked.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co">#change values to NAs</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>kn_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(kn_data, kn_data<span class="sc">==</span><span class="st">'N/A'</span>, <span class="cn">NA</span>)</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>kn_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(kn_data, kn_data<span class="sc">==</span><span class="st">'still open'</span>, <span class="cn">NA</span>)</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>kn_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(kn_data, kn_data<span class="sc">==</span><span class="st">'#N/A'</span>, <span class="cn">NA</span>)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>kn_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(kn_data, kn_data<span class="sc">==</span><span class="st">"didn't close"</span>, <span class="cn">NA</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>kn_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(kn_data, kn_data<span class="sc">==</span><span class="st">'not applicable'</span>, <span class="cn">NA</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>kn_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(kn_data, kn_data<span class="sc">==</span><span class="st">''</span>, <span class="cn">NA</span>)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>closeyear_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(closing_year) <span class="sc">%&gt;%</span>   </span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>closeyear_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 17 × 2
   closing_year frequency
   &lt;chr&gt;            &lt;int&gt;
 1 &lt;NA&gt;                19
 2 2010                11
 3 2008                 7
 4 2013                 7
 5 2009                 6
 6 2012                 6
 7 2016                 6
 8 2014                 5
 9 2011                 4
10 2022                 3
11 2023                 3
12 2007                 2
13 2015                 2
14 2017                 2
15 2018                 2
16 2019                 1
17 2024                 1</code></pre>
</div>
</div>
<ol start="21" type="1">
<li>Next, we’ll make a ‘cuisine’ frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>cuisine_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cuisine) <span class="sc">%&gt;%</span>   </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>cuisine_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 31 × 2
   cuisine     frequency
   &lt;chr&gt;           &lt;int&gt;
 1 American           23
 2 Italian            22
 3 Greek               4
 4 Seafood             4
 5 Mexican             3
 6 Fine Dining         2
 7 French              2
 8 Indian              2
 9 Irish               2
10 Soul Food           2
# ℹ 21 more rows</code></pre>
</div>
</div>
<ol start="22" type="1">
<li>There are some repetitive values that need to be manually changed. Then, we’ll re-call the frequency table to make sure the changes worked.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>cuisine[kn_data<span class="sc">$</span>cuisine <span class="sc">==</span> <span class="st">"Italy"</span>] <span class="ot">&lt;-</span> <span class="st">"Italian"</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>cuisine[kn_data<span class="sc">$</span>cuisine <span class="sc">==</span> <span class="st">"Pizzeria"</span>] <span class="ot">&lt;-</span> <span class="st">"Pizza"</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>cuisine[kn_data<span class="sc">$</span>cuisine <span class="sc">==</span> <span class="st">"Steak"</span>] <span class="ot">&lt;-</span> <span class="st">"Steakhouse"</span></span>
<span id="cb51-4"><a href="#cb51-4" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>cuisine[kn_data<span class="sc">$</span>cuisine <span class="sc">==</span> <span class="st">"american"</span>] <span class="ot">&lt;-</span> <span class="st">"American"</span></span>
<span id="cb51-5"><a href="#cb51-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>cuisine[kn_data<span class="sc">$</span>cuisine <span class="sc">==</span> <span class="st">"breakfast"</span>] <span class="ot">&lt;-</span> <span class="st">"Breakfast"</span></span>
<span id="cb51-6"><a href="#cb51-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-7"><a href="#cb51-7" aria-hidden="true" tabindex="-1"></a>cuisine_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb51-8"><a href="#cb51-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(cuisine) <span class="sc">%&gt;%</span>   </span>
<span id="cb51-9"><a href="#cb51-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb51-10"><a href="#cb51-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb51-11"><a href="#cb51-11" aria-hidden="true" tabindex="-1"></a>cuisine_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 27 × 2
   cuisine     frequency
   &lt;chr&gt;           &lt;int&gt;
 1 American           24
 2 Italian            23
 3 Greek               4
 4 Seafood             4
 5 Mexican             3
 6 Fine Dining         2
 7 French              2
 8 Indian              2
 9 Irish               2
10 Pizza               2
# ℹ 17 more rows</code></pre>
</div>
</div>
<ol start="23" type="1">
<li>Next, let’s look at the ‘revisited’ column and make a frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>revisited_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(revisited) <span class="sc">%&gt;%</span>   </span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>revisited_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 2
  revisited frequency
  &lt;chr&gt;         &lt;int&gt;
1 "No"             55
2 "Yes"            25
3 " No"             1
4 " yes "           1
5 "No."             1
6 "No..."           1
7 "No?"             1
8 "Nooooo"          1
9 "Yessss"          1</code></pre>
</div>
</div>
<ol start="24" type="1">
<li>There should only be ‘Yes’ or ‘No’ values here so we’ll manually change incorrect values. Then, we’ll re-call the frequency table to check that we only have two possible values.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>revisited[kn_data<span class="sc">$</span>revisited <span class="sc">==</span> <span class="st">" No"</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>revisited[kn_data<span class="sc">$</span>revisited <span class="sc">==</span> <span class="st">" yes "</span>] <span class="ot">&lt;-</span> <span class="st">"Yes"</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>revisited[kn_data<span class="sc">$</span>revisited <span class="sc">==</span> <span class="st">"No."</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>revisited[kn_data<span class="sc">$</span>revisited <span class="sc">==</span> <span class="st">"No..."</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb55-6"><a href="#cb55-6" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>revisited[kn_data<span class="sc">$</span>revisited <span class="sc">==</span> <span class="st">"No?"</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb55-7"><a href="#cb55-7" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>revisited[kn_data<span class="sc">$</span>revisited <span class="sc">==</span> <span class="st">"Nooooo"</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb55-8"><a href="#cb55-8" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>revisited[kn_data<span class="sc">$</span>revisited <span class="sc">==</span> <span class="st">"Yessss"</span>] <span class="ot">&lt;-</span> <span class="st">"Yes"</span></span>
<span id="cb55-9"><a href="#cb55-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-10"><a href="#cb55-10" aria-hidden="true" tabindex="-1"></a>revisited_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb55-11"><a href="#cb55-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(revisited) <span class="sc">%&gt;%</span>   </span>
<span id="cb55-12"><a href="#cb55-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb55-13"><a href="#cb55-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb55-14"><a href="#cb55-14" aria-hidden="true" tabindex="-1"></a>revisited_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  revisited frequency
  &lt;chr&gt;         &lt;int&gt;
1 No               60
2 Yes              27</code></pre>
</div>
</div>
<ol start="25" type="1">
<li>Next, we’ll make a frequency table for the ‘two_parts’ column.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>twopart_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(two_parts) <span class="sc">%&gt;%</span>   </span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a>twopart_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 7 × 2
  two_parts frequency
  &lt;chr&gt;         &lt;int&gt;
1 "No"             79
2 "Yes"             3
3 " No"             1
4 " No."            1
5 "N"               1
6 "Y"               1
7 "Yes "            1</code></pre>
</div>
</div>
<ol start="26" type="1">
<li>We need to manually change some values, and then re-call the frequency table to make sure there are only two possible values: ‘Yes’ and ‘No’.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>two_parts[kn_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">" No"</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>two_parts[kn_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">" No."</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>two_parts[kn_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">"N"</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>two_parts[kn_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">"Y"</span>] <span class="ot">&lt;-</span> <span class="st">"Yes"</span></span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>kn_data<span class="sc">$</span>two_parts[kn_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">"Yes "</span>] <span class="ot">&lt;-</span> <span class="st">"Yes"</span></span>
<span id="cb59-6"><a href="#cb59-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-7"><a href="#cb59-7" aria-hidden="true" tabindex="-1"></a>twopart_freq_table <span class="ot">&lt;-</span> kn_data <span class="sc">%&gt;%</span>   </span>
<span id="cb59-8"><a href="#cb59-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(two_parts) <span class="sc">%&gt;%</span>   </span>
<span id="cb59-9"><a href="#cb59-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb59-10"><a href="#cb59-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb59-11"><a href="#cb59-11" aria-hidden="true" tabindex="-1"></a>twopart_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  two_parts frequency
  &lt;chr&gt;         &lt;int&gt;
1 No               82
2 Yes               5</code></pre>
</div>
</div>
<ol start="27" type="1">
<li>Saving the cleaned Kitchen Nightmares data set as CSV.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(kn_data, <span class="at">file =</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">"cleaned_kitchen_nightmares.csv"</span>,</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-formatting" class="level3">
<h3 class="anchored" data-anchor-id="data-formatting">Data Formatting</h3>
<ol type="1">
<li>Read in <a href="https://github.com/DataPreProcessing-FALL2024/Deli3Test/raw/refs/heads/main/DataCleanAndFormatted/Clean_KitchenNightmares_Data.csv">Clean_Kitchen Nightmares_Data</a> from Github link.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1" aria-hidden="true" tabindex="-1"></a>clean_kn_link <span class="ot">=</span> <span class="st">"https://github.com/DataPreProcessing-FALL2024/Deli3Test/raw/refs/heads/main/DataCleanAndFormatted/Clean_KitchenNightmares_Data.csv"</span></span>
<span id="cb62-2"><a href="#cb62-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-3"><a href="#cb62-3" aria-hidden="true" tabindex="-1"></a>clean_kn <span class="ot">=</span> <span class="fu">read.csv</span>(clean_kn_link)</span>
<span id="cb62-4"><a href="#cb62-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb62-5"><a href="#cb62-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(clean_kn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   87 obs. of  12 variables:
 $ season      : int  1 1 1 1 1 1 1 1 1 1 ...
 $ episode     : int  1 2 3 4 5 6 7 8 9 10 ...
 $ restaurant  : chr  "Peter's" "Dillon's" "The Mixing Bowl" "Seascape" ...
 $ city        : chr  "Babylon" "New York City" "Bellmore" "Islip" ...
 $ state       : chr  "NY" "NY" "NY" "NY" ...
 $ air_date    : chr  "2007-09-19" "2007-09-26" "2007-10-03" "2007-10-10" ...
 $ status      : chr  "Closed" "Closed" "Closed" "Closed" ...
 $ film_month  : chr  "Mar 2007" "Mar 2007" "Mar 2007" "Mar 2007" ...
 $ closing_year: int  2008 2008 2009 2007 2022 2008 2012 2007 2010 2010 ...
 $ cuisine     : chr  "Italian" "Indian" "American" "Seafood" ...
 $ revisited   : chr  "No" "No" "No" "No" ...
 $ two_parts   : chr  "No" "No" "No" "No" ...</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Check head() of the clean dataset.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_kn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  season episode          restaurant          city state   air_date status
1      1       1             Peter's       Babylon    NY 2007-09-19 Closed
2      1       2            Dillon's New York City    NY 2007-09-26 Closed
3      1       3     The Mixing Bowl      Bellmore    NY 2007-10-03 Closed
4      1       4            Seascape         Islip    NY 2007-10-10 Closed
5      1       5 The Olde Stone Mill      Tuckahoe    NY 2007-10-17 Closed
6      1       6         Sebastian's   Toluca Lake    CA 2007-11-07 Closed
  film_month closing_year  cuisine revisited two_parts
1   Mar 2007         2008  Italian        No        No
2   Mar 2007         2008   Indian        No        No
3   Mar 2007         2009 American        No        No
4   Mar 2007         2007  Seafood        No        No
5   Mar 2007         2022 American       Yes        No
6   Feb 2007         2008    Pizza        No        No</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>TEXT DATA</li>
</ol>
<ul>
<li>We have many columns of text data (restaurant, city, state, status, cuisine, revisited, two_parts) here that we want to make sure are in either all upper case or all lower case. I will make all the text data for this data set lowercase.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>restaurant<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_kn<span class="sc">$</span>restaurant)</span>
<span id="cb66-2"><a href="#cb66-2" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>city<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_kn<span class="sc">$</span>city)</span>
<span id="cb66-3"><a href="#cb66-3" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>state<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_kn<span class="sc">$</span>state)</span>
<span id="cb66-4"><a href="#cb66-4" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>status<span class="ot">&lt;-</span> <span class="fu">tolower</span>(clean_kn<span class="sc">$</span>status)</span>
<span id="cb66-5"><a href="#cb66-5" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>cuisine<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_kn<span class="sc">$</span>cuisine)</span>
<span id="cb66-6"><a href="#cb66-6" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>revisited<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_kn<span class="sc">$</span>revisited)</span>
<span id="cb66-7"><a href="#cb66-7" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>two_parts<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_kn<span class="sc">$</span>two_parts)</span>
<span id="cb66-8"><a href="#cb66-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb66-9"><a href="#cb66-9" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(clean_kn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   87 obs. of  12 variables:
 $ season      : int  1 1 1 1 1 1 1 1 1 1 ...
 $ episode     : int  1 2 3 4 5 6 7 8 9 10 ...
 $ restaurant  : chr  "peter's" "dillon's" "the mixing bowl" "seascape" ...
 $ city        : chr  "babylon" "new york city" "bellmore" "islip" ...
 $ state       : chr  "ny" "ny" "ny" "ny" ...
 $ air_date    : chr  "2007-09-19" "2007-09-26" "2007-10-03" "2007-10-10" ...
 $ status      : chr  "closed" "closed" "closed" "closed" ...
 $ film_month  : chr  "Mar 2007" "Mar 2007" "Mar 2007" "Mar 2007" ...
 $ closing_year: int  2008 2008 2009 2007 2022 2008 2012 2007 2010 2010 ...
 $ cuisine     : chr  "italian" "indian" "american" "seafood" ...
 $ revisited   : chr  "no" "no" "no" "no" ...
 $ two_parts   : chr  "no" "no" "no" "no" ...</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>NUMERIC DATA</li>
</ol>
<ul>
<li>First, we will create a new column for film_year and remove film_month since the month does not tell us much in terms of analysis.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1" aria-hidden="true" tabindex="-1"></a><span class="co">#split 'film_month' column into 'month' and 'year' columns</span></span>
<span id="cb68-2"><a href="#cb68-2" aria-hidden="true" tabindex="-1"></a>clean_kn[<span class="fu">c</span>(<span class="st">'month'</span>, <span class="st">'year'</span>)] <span class="ot">&lt;-</span> </span>
<span id="cb68-3"><a href="#cb68-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_split_fixed</span>(clean_kn<span class="sc">$</span>film_month, <span class="st">' '</span>, <span class="dv">2</span>)</span>
<span id="cb68-4"><a href="#cb68-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-5"><a href="#cb68-5" aria-hidden="true" tabindex="-1"></a><span class="co">#remove 'month' and 'film_month' columns</span></span>
<span id="cb68-6"><a href="#cb68-6" aria-hidden="true" tabindex="-1"></a>clean_kn <span class="ot">&lt;-</span> <span class="fu">select</span>(clean_kn, <span class="sc">-</span>month)</span>
<span id="cb68-7"><a href="#cb68-7" aria-hidden="true" tabindex="-1"></a>clean_kn <span class="ot">&lt;-</span> <span class="fu">select</span>(clean_kn, <span class="sc">-</span>film_month)</span>
<span id="cb68-8"><a href="#cb68-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-9"><a href="#cb68-9" aria-hidden="true" tabindex="-1"></a><span class="co">#relocate back to original position</span></span>
<span id="cb68-10"><a href="#cb68-10" aria-hidden="true" tabindex="-1"></a>clean_kn <span class="ot">&lt;-</span> clean_kn <span class="sc">%&gt;%</span> </span>
<span id="cb68-11"><a href="#cb68-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(year, <span class="at">.before=</span>closing_year)</span>
<span id="cb68-12"><a href="#cb68-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb68-13"><a href="#cb68-13" aria-hidden="true" tabindex="-1"></a><span class="co">#rename 'year' column</span></span>
<span id="cb68-14"><a href="#cb68-14" aria-hidden="true" tabindex="-1"></a>clean_kn <span class="ot">&lt;-</span> clean_kn <span class="sc">%&gt;%</span> </span>
<span id="cb68-15"><a href="#cb68-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_at</span>(<span class="st">'year'</span>, <span class="sc">~</span><span class="st">'film_year'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>We have four columns of data that should be read in as numeric data (season, episode, film_year, closing_year). First, we will check to see what it is initially being read in as and if it needs changed, we will force it into being read as a numeric value. While film_year and closing_year are technically dates, it does not seem like it’s possible to convert it to datetime format since there is no month or day present in the data so we will just convert them both to numeric.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb69"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb69-1"><a href="#cb69-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_kn<span class="sc">$</span>season)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb71"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb71-1"><a href="#cb71-1" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>season <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(clean_kn<span class="sc">$</span>season)</span>
<span id="cb71-2"><a href="#cb71-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_kn<span class="sc">$</span>season)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb73"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb73-1"><a href="#cb73-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_kn<span class="sc">$</span>episode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb75"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb75-1"><a href="#cb75-1" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>episode <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(clean_kn<span class="sc">$</span>episode)</span>
<span id="cb75-2"><a href="#cb75-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_kn<span class="sc">$</span>episode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb77"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb77-1"><a href="#cb77-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_kn<span class="sc">$</span>film_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb79"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb79-1"><a href="#cb79-1" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>film_year <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(clean_kn<span class="sc">$</span>film_year)</span>
<span id="cb79-2"><a href="#cb79-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_kn<span class="sc">$</span>film_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb81"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb81-1"><a href="#cb81-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_kn<span class="sc">$</span>closing_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb83"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb83-1"><a href="#cb83-1" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>closing_year <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(clean_kn<span class="sc">$</span>closing_year)</span>
<span id="cb83-2"><a href="#cb83-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_kn<span class="sc">$</span>closing_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Check to make sure changes to numeric format worked correctly using str() function.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb85"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb85-1"><a href="#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(clean_kn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   87 obs. of  12 variables:
 $ season      : num  1 1 1 1 1 1 1 1 1 1 ...
 $ episode     : num  1 2 3 4 5 6 7 8 9 10 ...
 $ restaurant  : chr  "peter's" "dillon's" "the mixing bowl" "seascape" ...
 $ city        : chr  "babylon" "new york city" "bellmore" "islip" ...
 $ state       : chr  "ny" "ny" "ny" "ny" ...
 $ air_date    : chr  "2007-09-19" "2007-09-26" "2007-10-03" "2007-10-10" ...
 $ status      : chr  "closed" "closed" "closed" "closed" ...
 $ film_year   : num  2007 2007 2007 2007 2007 ...
 $ closing_year: num  2008 2008 2009 2007 2022 ...
 $ cuisine     : chr  "italian" "indian" "american" "seafood" ...
 $ revisited   : chr  "no" "no" "no" "no" ...
 $ two_parts   : chr  "no" "no" "no" "no" ...</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>DATE DATA</li>
</ol>
<ul>
<li>There is one column that needs to be recognized as a date format (air_date).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb87"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb87-1"><a href="#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_kn<span class="sc">$</span>air_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2007-09-19" "2007-09-26" "2007-10-03" "2007-10-10" "2007-10-17"
[6] "2007-11-07"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb89"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb89-1"><a href="#cb89-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strptime</span>(clean_kn<span class="sc">$</span>air_date, <span class="st">"%Y-%m-%d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2007-09-19 EDT" "2007-09-26 EDT" "2007-10-03 EDT" "2007-10-10 EDT"
 [5] "2007-10-17 EDT" "2007-11-07 EST" "2007-11-14 EST" "2007-11-21 EST"
 [9] "2007-11-28 EST" "2007-12-12 EST" "2008-09-11 EDT" "2008-09-18 EDT"
[13] "2008-09-25 EDT" "2008-09-25 EDT" "2008-10-30 EDT" "2008-11-06 EST"
[17] "2008-11-06 EST" "2008-11-13 EST" "2008-11-13 EST" "2008-11-20 EST"
[21] "2009-01-15 EST" "2010-01-29 EST" "2010-02-02 EST" "2010-02-05 EST"
[25] "2010-02-25 EST" "2010-03-04 EST" "2010-03-11 EST" "2010-03-12 EST"
[29] "2010-03-19 EDT" "2010-03-26 EDT" "2010-05-07 EDT" "2010-05-14 EDT"
[33] "2011-01-21 EST" "2011-01-28 EST" "2011-02-11 EST" "2011-02-18 EST"
[37] "2011-02-25 EST" "2011-03-11 EST" "2011-03-25 EDT" "2011-04-15 EDT"
[41] "2011-04-29 EDT" "2011-05-06 EDT" "2011-05-13 EDT" "2011-05-20 EDT"
[45] "2011-09-23 EDT" "2011-09-30 EDT" "2011-10-07 EDT" "2011-10-14 EDT"
[49] "2011-09-04 EDT" "2011-11-18 EST" "2012-01-13 EST" "2012-01-20 EST"
[53] "2012-02-03 EST" "2012-02-10 EST" "2012-02-17 EST" "2012-02-24 EST"
[57] "2012-03-23 EDT" "2012-03-30 EDT" "2012-10-26 EDT" "2012-11-09 EST"
[61] "2012-11-16 EST" "2012-12-07 EST" "2013-01-25 EST" "2013-02-01 EST"
[65] "2013-02-15 EST" "2013-02-22 EST" "2013-03-01 EST" "2013-03-15 EDT"
[69] "2013-04-26 EDT" "2013-05-03 EDT" "2013-05-10 EDT" "2014-04-11 EDT"
[73] "2014-04-18 EDT" "2014-04-18 EDT" "2014-04-25 EDT" "2014-05-02 EDT"
[77] "2014-05-16 EDT" "2023-09-25 EDT" "2023-10-02 EDT" "2023-10-09 EDT"
[81] "2023-10-16 EDT" "2023-11-06 EST" "2023-11-13 EST" "2023-11-20 EST"
[85] "2023-11-27 EST" "2023-12-04 EST" "2023-12-04 EST"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb91"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb91-1"><a href="#cb91-1" aria-hidden="true" tabindex="-1"></a>clean_kn<span class="sc">$</span>air_date<span class="ot">=</span> <span class="fu">strptime</span>(clean_kn<span class="sc">$</span>air_date, <span class="st">"%Y-%m-%d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb92"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb92-1"><a href="#cb92-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(clean_kn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   87 obs. of  12 variables:
 $ season      : num  1 1 1 1 1 1 1 1 1 1 ...
 $ episode     : num  1 2 3 4 5 6 7 8 9 10 ...
 $ restaurant  : chr  "peter's" "dillon's" "the mixing bowl" "seascape" ...
 $ city        : chr  "babylon" "new york city" "bellmore" "islip" ...
 $ state       : chr  "ny" "ny" "ny" "ny" ...
 $ air_date    : POSIXlt, format: "2007-09-19" "2007-09-26" ...
 $ status      : chr  "closed" "closed" "closed" "closed" ...
 $ film_year   : num  2007 2007 2007 2007 2007 ...
 $ closing_year: num  2008 2008 2009 2007 2022 ...
 $ cuisine     : chr  "italian" "indian" "american" "seafood" ...
 $ revisited   : chr  "no" "no" "no" "no" ...
 $ two_parts   : chr  "no" "no" "no" "no" ...</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>Finally, we’ll save the newly formatted Kitchen Nightmares data as a RDS file.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb94"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb94-1"><a href="#cb94-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(clean_kn, <span class="at">file =</span> <span class="st">"formatted_kn.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="hotel-hell-data" class="level2">
<h2 class="anchored" data-anchor-id="hotel-hell-data">Hotel Hell Data</h2>
<section id="data-cleaning-1" class="level3">
<h3 class="anchored" data-anchor-id="data-cleaning-1">Data Cleaning</h3>
<ol type="1">
<li>Read in <a href="https://github.com/DataPreProcessing-FALL2024/Deli3Test/raw/refs/heads/main/Data/messy_hotel_hell.csv">Hotel Hell data link</a> from Github repository.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb95"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb95-1"><a href="#cb95-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb95-2"><a href="#cb95-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb95-3"><a href="#cb95-3" aria-hidden="true" tabindex="-1"></a>hh_link <span class="ot">=</span> <span class="st">"https://github.com/Personal-Portfolio-Gordon-Ramsay-TCG/Gordon_Ramsay/raw/refs/heads/main/Messy%20Data/messy_hotel_hell.csv"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="2" type="1">
<li>Read in CSV file from link.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb96"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb96-1"><a href="#cb96-1" aria-hidden="true" tabindex="-1"></a>hh_data <span class="ot">=</span> <span class="fu">read.csv</span>(hh_link) </span>
<span id="cb96-2"><a href="#cb96-2" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(hh_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  X seasoned E.p.                HOTEL    what.city. which.state.  og.air.date
1 1     1.01    1 Juniper Hill Inn!!!!       Windsor           VT   2012-08-13
2 2        1    3      cambridge hotel     Cambridge           NY   2012-08-20
3 3        1    4    The Keating Hotel     San Diego           CA   2012-08-27
4 4        1    5       River Rock Inn       Milford           PA   2012-09-03
5 5        1    6    The Roosevelt Inn  Cour d'Alene        idaho   2012-09-03
6 6        2  1.0     Meson De Mesilla    Las Cruces           NM july 21 2014
  OPEN.CLOSED. og.film.month year.closed. X2.parter
1     not open   Feb    2012         2014      Yes.
2       closed      Jan 2012         2012     No...
3         Open      Dec 2011         2022        No
4       Closed      Jan 2012         2014        No
5         Open      Feb 2012         2020        No
6         Open     June 2013           na     No...</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>Clean column names and drop the first column because it is unnecessary.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb98"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb98-1"><a href="#cb98-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(hh_data)  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "X"             "seasoned"      "E.p."          "HOTEL"        
 [5] "what.city."    "which.state."  "og.air.date"   "OPEN.CLOSED." 
 [9] "og.film.month" "year.closed."  "X2.parter"    </code></pre>
</div>
<div class="sourceCode cell-code" id="cb100"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb100-1"><a href="#cb100-1" aria-hidden="true" tabindex="-1"></a>hh_data <span class="ot">&lt;-</span> hh_data[, <span class="sc">-</span><span class="dv">1</span>]  </span>
<span id="cb100-2"><a href="#cb100-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-3"><a href="#cb100-3" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(hh_data) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">'season'</span>, <span class="st">'episode'</span>, <span class="st">'hotel'</span>, <span class="st">'city'</span>, <span class="st">'state'</span>, <span class="st">'air_date'</span>, <span class="st">'status'</span>, <span class="st">'film_month'</span>, <span class="st">'closing_year'</span>, <span class="st">'two_parts'</span>)  </span>
<span id="cb100-4"><a href="#cb100-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb100-5"><a href="#cb100-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(hh_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  season episode                hotel          city state     air_date
1   1.01       1 Juniper Hill Inn!!!!       Windsor    VT   2012-08-13
2      1       3      cambridge hotel     Cambridge    NY   2012-08-20
3      1       4    The Keating Hotel     San Diego    CA   2012-08-27
4      1       5       River Rock Inn       Milford    PA   2012-09-03
5      1       6    The Roosevelt Inn  Cour d'Alene idaho   2012-09-03
6      2     1.0     Meson De Mesilla    Las Cruces    NM july 21 2014
     status  film_month closing_year two_parts
1  not open Feb    2012         2014      Yes.
2    closed    Jan 2012         2012     No...
3      Open    Dec 2011         2022        No
4    Closed    Jan 2012         2014        No
5      Open    Feb 2012         2020        No
6      Open   June 2013           na     No...</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>Next, we’ll make a frequency table for the ‘season’ column to see what we’re working with.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb102"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb102-1"><a href="#cb102-1" aria-hidden="true" tabindex="-1"></a>season_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb102-2"><a href="#cb102-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season) <span class="sc">%&gt;%</span>   </span>
<span id="cb102-3"><a href="#cb102-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb102-4"><a href="#cb102-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb102-5"><a href="#cb102-5" aria-hidden="true" tabindex="-1"></a>season_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  season frequency
  &lt;chr&gt;      &lt;int&gt;
1 2              7
2 3              6
3 1              4
4 1.01           1
5 2,             1
6 3.             1</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Some of the values were input incorrectly so we will manually change them. Then, we’ll re-call the frequency table to make sure there are only 3 possible values for the ‘season’ column.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb104"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb104-1"><a href="#cb104-1" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>season[hh_data<span class="sc">$</span>season <span class="sc">==</span> <span class="st">"1.01"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span>
<span id="cb104-2"><a href="#cb104-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>season[hh_data<span class="sc">$</span>season <span class="sc">==</span> <span class="st">"2,"</span>] <span class="ot">&lt;-</span> <span class="st">"2"</span></span>
<span id="cb104-3"><a href="#cb104-3" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>season[hh_data<span class="sc">$</span>season <span class="sc">==</span> <span class="st">"3."</span>] <span class="ot">&lt;-</span> <span class="st">"3"</span></span>
<span id="cb104-4"><a href="#cb104-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-5"><a href="#cb104-5" aria-hidden="true" tabindex="-1"></a>season_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb104-6"><a href="#cb104-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(season) <span class="sc">%&gt;%</span>   </span>
<span id="cb104-7"><a href="#cb104-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb104-8"><a href="#cb104-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb104-9"><a href="#cb104-9" aria-hidden="true" tabindex="-1"></a>season_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 2
  season frequency
  &lt;chr&gt;      &lt;int&gt;
1 2              8
2 3              7
3 1              5</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>Next, we’ll make an ‘episode’ frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb106"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb106-1"><a href="#cb106-1" aria-hidden="true" tabindex="-1"></a>ep_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb106-2"><a href="#cb106-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(episode) <span class="sc">%&gt;%</span>   </span>
<span id="cb106-3"><a href="#cb106-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb106-4"><a href="#cb106-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb106-5"><a href="#cb106-5" aria-hidden="true" tabindex="-1"></a>ep_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 12 × 2
   episode frequency
   &lt;chr&gt;       &lt;int&gt;
 1 "3"             3
 2 "1"             2
 3 "2"             2
 4 "4"             2
 5 "5"             2
 6 "6"             2
 7 "7"             2
 8 " 6"            1
 9 "1.0"           1
10 "8"             1
11 "8."            1
12 "five"          1</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>Some of the values are incorrect, so we need to manually change them. Then, re-call frequency table to make sure changes stuck.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb108"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb108-1"><a href="#cb108-1" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>episode[hh_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">" 6"</span>] <span class="ot">&lt;-</span> <span class="st">"6"</span></span>
<span id="cb108-2"><a href="#cb108-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>episode[hh_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">"1.0"</span>] <span class="ot">&lt;-</span> <span class="st">"1"</span></span>
<span id="cb108-3"><a href="#cb108-3" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>episode[hh_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">"8."</span>] <span class="ot">&lt;-</span> <span class="st">"8"</span></span>
<span id="cb108-4"><a href="#cb108-4" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>episode[hh_data<span class="sc">$</span>episode <span class="sc">==</span> <span class="st">"five"</span>] <span class="ot">&lt;-</span> <span class="st">"5"</span></span>
<span id="cb108-5"><a href="#cb108-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-6"><a href="#cb108-6" aria-hidden="true" tabindex="-1"></a>ep_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb108-7"><a href="#cb108-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(episode) <span class="sc">%&gt;%</span>   </span>
<span id="cb108-8"><a href="#cb108-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb108-9"><a href="#cb108-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb108-10"><a href="#cb108-10" aria-hidden="true" tabindex="-1"></a>ep_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  episode frequency
  &lt;chr&gt;       &lt;int&gt;
1 1               3
2 3               3
3 5               3
4 6               3
5 2               2
6 4               2
7 7               2
8 8               2</code></pre>
</div>
</div>
<ol start="8" type="1">
<li>Next, let’s make a frequency table for the ‘hotel’ column.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb110"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb110-1"><a href="#cb110-1" aria-hidden="true" tabindex="-1"></a>hotel_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb110-2"><a href="#cb110-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hotel) <span class="sc">%&gt;%</span>   </span>
<span id="cb110-3"><a href="#cb110-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb110-4"><a href="#cb110-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb110-5"><a href="#cb110-5" aria-hidden="true" tabindex="-1"></a>hotel_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 2
   hotel                      frequency
   &lt;chr&gt;                          &lt;int&gt;
 1 " Curtis House?"                   1
 2 " Town's Inn, Part 1"              1
 3 " cambridge hotel"                 1
 4 "Angler's Lodge"                   1
 5 "Applegate River Lodge"            1
 6 "Beachfront Inn &amp; Inlet"           1
 7 "Brick Hotel"                      1
 8 "Calumet Inn"                      1
 9 "Four Seasons Inn"                 1
10 "Hotel Chester"                    1
11 "Juniper Hill Inn!!!!"             1
12 "Lakeview Hotel"                   1
13 "Landoll's Mohican Castle"         1
14 "Meson De Mesilla"                 1
15 "Monticello Hotel"                 1
16 "Murphys Hotel"                    1
17 "River Rock Inn"                   1
18 "The Keating Hotel"                1
19 "The Roosevelt Inn"                1
20 "Vienna/Inn"                       1</code></pre>
</div>
</div>
<ol start="9" type="1">
<li>There are a few cells with leading spaces, so we will want to remove those leading spaces. We also need to manually change some values. Then, we’ll re-call the frequency table so that we can check our work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb112"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb112-1"><a href="#cb112-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove leading spaces</span></span>
<span id="cb112-2"><a href="#cb112-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>hotel <span class="ot">&lt;-</span> <span class="fu">str_trim</span>(hh_data<span class="sc">$</span>hotel, <span class="st">"left"</span>)</span>
<span id="cb112-3"><a href="#cb112-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-4"><a href="#cb112-4" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb112-5"><a href="#cb112-5" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>hotel[hh_data<span class="sc">$</span>hotel <span class="sc">==</span> <span class="st">"Curtis House?"</span>] <span class="ot">&lt;-</span> <span class="st">"Curtis House"</span></span>
<span id="cb112-6"><a href="#cb112-6" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>hotel[hh_data<span class="sc">$</span>hotel <span class="sc">==</span> <span class="st">"Juniper Hill Inn!!!!"</span>] <span class="ot">&lt;-</span> <span class="st">"Juniper Hill Inn"</span></span>
<span id="cb112-7"><a href="#cb112-7" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>hotel[hh_data<span class="sc">$</span>hotel <span class="sc">==</span> <span class="st">"Town's Inn, Part 1"</span>] <span class="ot">&lt;-</span> <span class="st">"Town's Inn"</span></span>
<span id="cb112-8"><a href="#cb112-8" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>hotel[hh_data<span class="sc">$</span>hotel <span class="sc">==</span> <span class="st">"Vienna/Inn"</span>] <span class="ot">&lt;-</span> <span class="st">"Vienna Inn"</span></span>
<span id="cb112-9"><a href="#cb112-9" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>hotel[hh_data<span class="sc">$</span>hotel <span class="sc">==</span> <span class="st">"cambridge hotel"</span>] <span class="ot">&lt;-</span> <span class="st">"Cambridge Hotel"</span></span>
<span id="cb112-10"><a href="#cb112-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-11"><a href="#cb112-11" aria-hidden="true" tabindex="-1"></a>hotel_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb112-12"><a href="#cb112-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(hotel) <span class="sc">%&gt;%</span>   </span>
<span id="cb112-13"><a href="#cb112-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb112-14"><a href="#cb112-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb112-15"><a href="#cb112-15" aria-hidden="true" tabindex="-1"></a>hotel_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 2
   hotel                    frequency
   &lt;chr&gt;                        &lt;int&gt;
 1 Angler's Lodge                   1
 2 Applegate River Lodge            1
 3 Beachfront Inn &amp; Inlet           1
 4 Brick Hotel                      1
 5 Calumet Inn                      1
 6 Cambridge Hotel                  1
 7 Curtis House                     1
 8 Four Seasons Inn                 1
 9 Hotel Chester                    1
10 Juniper Hill Inn                 1
11 Lakeview Hotel                   1
12 Landoll's Mohican Castle         1
13 Meson De Mesilla                 1
14 Monticello Hotel                 1
15 Murphys Hotel                    1
16 River Rock Inn                   1
17 The Keating Hotel                1
18 The Roosevelt Inn                1
19 Town's Inn                       1
20 Vienna Inn                       1</code></pre>
</div>
</div>
<ol start="10" type="1">
<li>Next, let’s make a frequency table for the ‘city’ column.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb114"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb114-1"><a href="#cb114-1" aria-hidden="true" tabindex="-1"></a>city_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb114-2"><a href="#cb114-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(city) <span class="sc">%&gt;%</span>   </span>
<span id="cb114-3"><a href="#cb114-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb114-4"><a href="#cb114-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb114-5"><a href="#cb114-5" aria-hidden="true" tabindex="-1"></a>city_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 2
   city               frequency
   &lt;chr&gt;                  &lt;int&gt;
 1 " Cour d'Alene"            1
 2 "Cambridge"                1
 3 "Chelan"                   1
 4 "Fort Pierce"              1
 5 "Harpers Ferry..."         1
 6 "Island Park"              1
 7 "Las Cruces"               1
 8 "Longview"                 1
 9 "Loudonville"              1
10 "Milford"                  1
11 "Murphys"                  1
12 "Newtown,"                 1
13 "Pipestone"                1
14 "San Diego"                1
15 "Southbridge"              1
16 "Starkville"               1
17 "WOODBURY"                 1
18 "West Dover"               1
19 "Windsor"                  1
20 "applegate"                1</code></pre>
</div>
</div>
<ol start="11" type="1">
<li>There are a few values that need to be manually changed. Then, we will re-call the frequency table to check our work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb116"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb116-1"><a href="#cb116-1" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>city[hh_data<span class="sc">$</span>city <span class="sc">==</span> <span class="st">" Cour d'Alene"</span>] <span class="ot">&lt;-</span> <span class="st">"Coeur d'Alene"</span></span>
<span id="cb116-2"><a href="#cb116-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>city[hh_data<span class="sc">$</span>city <span class="sc">==</span> <span class="st">"Harpers Ferry..."</span>] <span class="ot">&lt;-</span> <span class="st">"Harpers Ferry"</span></span>
<span id="cb116-3"><a href="#cb116-3" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>city[hh_data<span class="sc">$</span>city <span class="sc">==</span> <span class="st">"Newtown,"</span>] <span class="ot">&lt;-</span> <span class="st">"Newtown"</span></span>
<span id="cb116-4"><a href="#cb116-4" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>city[hh_data<span class="sc">$</span>city <span class="sc">==</span> <span class="st">"WOODBURY"</span>] <span class="ot">&lt;-</span> <span class="st">"Woodbury"</span></span>
<span id="cb116-5"><a href="#cb116-5" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>city[hh_data<span class="sc">$</span>city <span class="sc">==</span> <span class="st">"applegate"</span>] <span class="ot">&lt;-</span> <span class="st">"Applegate"</span></span>
<span id="cb116-6"><a href="#cb116-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-7"><a href="#cb116-7" aria-hidden="true" tabindex="-1"></a>city_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb116-8"><a href="#cb116-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(city) <span class="sc">%&gt;%</span>   </span>
<span id="cb116-9"><a href="#cb116-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb116-10"><a href="#cb116-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb116-11"><a href="#cb116-11" aria-hidden="true" tabindex="-1"></a>city_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 2
   city          frequency
   &lt;chr&gt;             &lt;int&gt;
 1 Applegate             1
 2 Cambridge             1
 3 Chelan                1
 4 Coeur d'Alene         1
 5 Fort Pierce           1
 6 Harpers Ferry         1
 7 Island Park           1
 8 Las Cruces            1
 9 Longview              1
10 Loudonville           1
11 Milford               1
12 Murphys               1
13 Newtown               1
14 Pipestone             1
15 San Diego             1
16 Southbridge           1
17 Starkville            1
18 West Dover            1
19 Windsor               1
20 Woodbury              1</code></pre>
</div>
</div>
<ol start="12" type="1">
<li>Next, let’s make a frequency table for the ‘state’ column.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb118"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb118-1"><a href="#cb118-1" aria-hidden="true" tabindex="-1"></a>state_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb118-2"><a href="#cb118-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span>   </span>
<span id="cb118-3"><a href="#cb118-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb118-4"><a href="#cb118-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb118-5"><a href="#cb118-5" aria-hidden="true" tabindex="-1"></a>state_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 17 × 2
   state        frequency
   &lt;chr&gt;            &lt;int&gt;
 1 "CA"                 2
 2 "PA"                 2
 3 "VT"                 2
 4 " MA"                1
 5 " or"                1
 6 "CT"                 1
 7 "FL"                 1
 8 "ID"                 1
 9 "MN"                 1
10 "MS"                 1
11 "NM"                 1
12 "NY"                 1
13 "OH!"                1
14 "WA"                 1
15 "WV"                 1
16 "idaho"              1
17 "washington"         1</code></pre>
</div>
</div>
<ol start="13" type="1">
<li>There are some leading spaces we’ll want to get rid of. Then, we need to manually change some values and re-call the frequency table to make sure everything worked as intended.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb120"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb120-1"><a href="#cb120-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove leading spaces</span></span>
<span id="cb120-2"><a href="#cb120-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>state <span class="ot">&lt;-</span> <span class="fu">str_trim</span>(hh_data<span class="sc">$</span>state, <span class="st">"left"</span>)</span>
<span id="cb120-3"><a href="#cb120-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-4"><a href="#cb120-4" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb120-5"><a href="#cb120-5" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>state[hh_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"OH!"</span>] <span class="ot">&lt;-</span> <span class="st">"OH"</span></span>
<span id="cb120-6"><a href="#cb120-6" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>state[hh_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"idaho"</span>] <span class="ot">&lt;-</span> <span class="st">"ID"</span></span>
<span id="cb120-7"><a href="#cb120-7" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>state[hh_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"or"</span>] <span class="ot">&lt;-</span> <span class="st">"OR"</span></span>
<span id="cb120-8"><a href="#cb120-8" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>state[hh_data<span class="sc">$</span>state <span class="sc">==</span> <span class="st">"washington"</span>] <span class="ot">&lt;-</span> <span class="st">"WA"</span></span>
<span id="cb120-9"><a href="#cb120-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-10"><a href="#cb120-10" aria-hidden="true" tabindex="-1"></a>state_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb120-11"><a href="#cb120-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(state) <span class="sc">%&gt;%</span>   </span>
<span id="cb120-12"><a href="#cb120-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb120-13"><a href="#cb120-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb120-14"><a href="#cb120-14" aria-hidden="true" tabindex="-1"></a>state_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 15 × 2
   state frequency
   &lt;chr&gt;     &lt;int&gt;
 1 CA            2
 2 ID            2
 3 PA            2
 4 VT            2
 5 WA            2
 6 CT            1
 7 FL            1
 8 MA            1
 9 MN            1
10 MS            1
11 NM            1
12 NY            1
13 OH            1
14 OR            1
15 WV            1</code></pre>
</div>
</div>
<ol start="14" type="1">
<li>Next, we’ll make a frequency table for the ‘air_date’ column.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb122"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb122-1"><a href="#cb122-1" aria-hidden="true" tabindex="-1"></a>airdate_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb122-2"><a href="#cb122-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(air_date) <span class="sc">%&gt;%</span>   </span>
<span id="cb122-3"><a href="#cb122-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb122-4"><a href="#cb122-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb122-5"><a href="#cb122-5" aria-hidden="true" tabindex="-1"></a>airdate_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 2
   air_date              frequency
   &lt;chr&gt;                     &lt;int&gt;
 1 2012-09-03                    2
 2 06-07-2016                    1
 3 1st of september 2014         1
 4 2012-08-13                    1
 5 2012-08-20                    1
 6 2012-08-27                    1
 7 2014-07-28                    1
 8 2014-08-04                    1
 9 2014-08-11                    1
10 2014-08-18                    1
11 2014-08-25                    1
12 2014-09-09                    1
13 2016-05-24                    1
14 2016-05-31                    1
15 2016-06-21                    1
16 2016-06-28                    1
17 2016-07-19                    1
18 2016-07-26                    1
19 july 21 2014                  1</code></pre>
</div>
</div>
<ol start="15" type="1">
<li>We want to make sure everything is in the correct date format so it can later be read in by R as a datetime object. Let’s manually change the incorrect values to the format of Y-M-D. Then, we’ll re-call the ‘air_date’ frequency table to check our work.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb124"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb124-1"><a href="#cb124-1" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>air_date[hh_data<span class="sc">$</span>air_date <span class="sc">==</span> <span class="st">"06-07-2016"</span>] <span class="ot">&lt;-</span> <span class="st">"2016-06-07"</span></span>
<span id="cb124-2"><a href="#cb124-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>air_date[hh_data<span class="sc">$</span>air_date <span class="sc">==</span> <span class="st">"1st of september 2014"</span>] <span class="ot">&lt;-</span> <span class="st">"2014-09-01"</span></span>
<span id="cb124-3"><a href="#cb124-3" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>air_date[hh_data<span class="sc">$</span>air_date <span class="sc">==</span> <span class="st">"july 21 2014"</span>] <span class="ot">&lt;-</span> <span class="st">"2014-07-21"</span></span>
<span id="cb124-4"><a href="#cb124-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-5"><a href="#cb124-5" aria-hidden="true" tabindex="-1"></a>airdate_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb124-6"><a href="#cb124-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(air_date) <span class="sc">%&gt;%</span>   </span>
<span id="cb124-7"><a href="#cb124-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb124-8"><a href="#cb124-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb124-9"><a href="#cb124-9" aria-hidden="true" tabindex="-1"></a>airdate_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 19 × 2
   air_date   frequency
   &lt;chr&gt;          &lt;int&gt;
 1 2012-09-03         2
 2 2012-08-13         1
 3 2012-08-20         1
 4 2012-08-27         1
 5 2014-07-21         1
 6 2014-07-28         1
 7 2014-08-04         1
 8 2014-08-11         1
 9 2014-08-18         1
10 2014-08-25         1
11 2014-09-01         1
12 2014-09-09         1
13 2016-05-24         1
14 2016-05-31         1
15 2016-06-07         1
16 2016-06-21         1
17 2016-06-28         1
18 2016-07-19         1
19 2016-07-26         1</code></pre>
</div>
</div>
<ol start="16" type="1">
<li>Next, let’s make a ‘status’ frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb126"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb126-1"><a href="#cb126-1" aria-hidden="true" tabindex="-1"></a>status_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb126-2"><a href="#cb126-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(status) <span class="sc">%&gt;%</span>   </span>
<span id="cb126-3"><a href="#cb126-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb126-4"><a href="#cb126-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb126-5"><a href="#cb126-5" aria-hidden="true" tabindex="-1"></a>status_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  status         frequency
  &lt;chr&gt;              &lt;int&gt;
1 "Open"                 9
2 "Closed"               5
3 " Closed"              1
4 " Open"                1
5 " closed down"         1
6 " not open"            1
7 "closed"               1
8 "sold"                 1</code></pre>
</div>
</div>
<ol start="17" type="1">
<li>We should get rid of leading spaces and also change values manually to create only two possible values- ‘closed’ and ‘open’.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb128"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb128-1"><a href="#cb128-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove leading spaces</span></span>
<span id="cb128-2"><a href="#cb128-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>status <span class="ot">&lt;-</span> <span class="fu">str_trim</span>(hh_data<span class="sc">$</span>status, <span class="st">"left"</span>)</span>
<span id="cb128-3"><a href="#cb128-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-4"><a href="#cb128-4" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb128-5"><a href="#cb128-5" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>status[hh_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"closed"</span>] <span class="ot">&lt;-</span> <span class="st">"Closed"</span></span>
<span id="cb128-6"><a href="#cb128-6" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>status[hh_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"closed down"</span>] <span class="ot">&lt;-</span> <span class="st">"Closed"</span></span>
<span id="cb128-7"><a href="#cb128-7" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>status[hh_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"not open"</span>] <span class="ot">&lt;-</span> <span class="st">"Closed"</span></span>
<span id="cb128-8"><a href="#cb128-8" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>status[hh_data<span class="sc">$</span>status <span class="sc">==</span> <span class="st">"sold"</span>] <span class="ot">&lt;-</span> <span class="st">"Closed"</span></span>
<span id="cb128-9"><a href="#cb128-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-10"><a href="#cb128-10" aria-hidden="true" tabindex="-1"></a>status_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb128-11"><a href="#cb128-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(status) <span class="sc">%&gt;%</span>   </span>
<span id="cb128-12"><a href="#cb128-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb128-13"><a href="#cb128-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb128-14"><a href="#cb128-14" aria-hidden="true" tabindex="-1"></a>status_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  status frequency
  &lt;chr&gt;      &lt;int&gt;
1 Closed        10
2 Open          10</code></pre>
</div>
</div>
<ol start="18" type="1">
<li>Next, let’s make a ‘film_month’ frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb130"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb130-1"><a href="#cb130-1" aria-hidden="true" tabindex="-1"></a>filmmonth_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb130-2"><a href="#cb130-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(film_month) <span class="sc">%&gt;%</span>   </span>
<span id="cb130-3"><a href="#cb130-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb130-4"><a href="#cb130-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb130-5"><a href="#cb130-5" aria-hidden="true" tabindex="-1"></a>filmmonth_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 13 × 2
   film_month    frequency
   &lt;chr&gt;             &lt;int&gt;
 1 "Nov 2015"            4
 2 "June 2013"           3
 3 "Jan 2012"            2
 4 "May 2013"            2
 5 " Feb 2012"           1
 6 " May 2013"           1
 7 "Dec 2011"            1
 8 "Dec 2015"            1
 9 "Feb    2012"         1
10 "June 2013."          1
11 "June, 2013"          1
12 "Nov, 2015"           1
13 "Oct ,2015"           1</code></pre>
</div>
</div>
<ol start="19" type="1">
<li>We should get rid of leading spaces and also change values manually. Then, we’ll re-call the frequency table to make sure the changes worked as intended.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb132"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb132-1"><a href="#cb132-1" aria-hidden="true" tabindex="-1"></a><span class="co">#remove leading spaces</span></span>
<span id="cb132-2"><a href="#cb132-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>film_month <span class="ot">&lt;-</span> <span class="fu">str_trim</span>(hh_data<span class="sc">$</span>film_month, <span class="st">"left"</span>)</span>
<span id="cb132-3"><a href="#cb132-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-4"><a href="#cb132-4" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb132-5"><a href="#cb132-5" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>film_month[hh_data<span class="sc">$</span>film_month <span class="sc">==</span> <span class="st">"Feb    2012"</span>] <span class="ot">&lt;-</span> <span class="st">"Feb 2012"</span></span>
<span id="cb132-6"><a href="#cb132-6" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>film_month[hh_data<span class="sc">$</span>film_month <span class="sc">==</span> <span class="st">"June 2013."</span>] <span class="ot">&lt;-</span> <span class="st">"June 2013"</span></span>
<span id="cb132-7"><a href="#cb132-7" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>film_month[hh_data<span class="sc">$</span>film_month <span class="sc">==</span> <span class="st">"June, 2013"</span>] <span class="ot">&lt;-</span> <span class="st">"June 2013"</span></span>
<span id="cb132-8"><a href="#cb132-8" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>film_month[hh_data<span class="sc">$</span>film_month <span class="sc">==</span> <span class="st">"Nov, 2015"</span>] <span class="ot">&lt;-</span> <span class="st">"Nov 2015"</span></span>
<span id="cb132-9"><a href="#cb132-9" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>film_month[hh_data<span class="sc">$</span>film_month <span class="sc">==</span> <span class="st">"Oct ,2015"</span>] <span class="ot">&lt;-</span> <span class="st">"Oct 2015"</span></span>
<span id="cb132-10"><a href="#cb132-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-11"><a href="#cb132-11" aria-hidden="true" tabindex="-1"></a>filmmonth_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb132-12"><a href="#cb132-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(film_month) <span class="sc">%&gt;%</span>   </span>
<span id="cb132-13"><a href="#cb132-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb132-14"><a href="#cb132-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb132-15"><a href="#cb132-15" aria-hidden="true" tabindex="-1"></a>filmmonth_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  film_month frequency
  &lt;chr&gt;          &lt;int&gt;
1 June 2013          5
2 Nov 2015           5
3 May 2013           3
4 Feb 2012           2
5 Jan 2012           2
6 Dec 2011           1
7 Dec 2015           1
8 Oct 2015           1</code></pre>
</div>
</div>
<ol start="20" type="1">
<li>Next, let’s make a frequency table for ‘closing_year’.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb134"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb134-1"><a href="#cb134-1" aria-hidden="true" tabindex="-1"></a>closeyear_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb134-2"><a href="#cb134-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(closing_year) <span class="sc">%&gt;%</span>   </span>
<span id="cb134-3"><a href="#cb134-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb134-4"><a href="#cb134-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb134-5"><a href="#cb134-5" aria-hidden="true" tabindex="-1"></a>closeyear_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 11 × 2
   closing_year     frequency
   &lt;chr&gt;                &lt;int&gt;
 1 "N/A"                    4
 2 "2022"                   3
 3 "#N/A"                   2
 4 "2014"                   2
 5 "2017"                   2
 6 "2019"                   2
 7 " na"                    1
 8 "2012"                   1
 9 "2020"                   1
10 "2021"                   1
11 "not applicable"         1</code></pre>
</div>
</div>
<ol start="21" type="1">
<li>There are many different values that need to be read in by R as NA values and need to be manually changed to NAs. After, we will re-call the frequency table to confirm that our changes worked.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb136"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb136-1"><a href="#cb136-1" aria-hidden="true" tabindex="-1"></a><span class="co">#change values to NAs</span></span>
<span id="cb136-2"><a href="#cb136-2" aria-hidden="true" tabindex="-1"></a>hh_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(hh_data, hh_data<span class="sc">==</span><span class="st">'N/A'</span>, <span class="cn">NA</span>)</span>
<span id="cb136-3"><a href="#cb136-3" aria-hidden="true" tabindex="-1"></a>hh_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(hh_data, hh_data<span class="sc">==</span><span class="st">'#N/A'</span>, <span class="cn">NA</span>)</span>
<span id="cb136-4"><a href="#cb136-4" aria-hidden="true" tabindex="-1"></a>hh_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(hh_data, hh_data<span class="sc">==</span><span class="st">' na'</span>, <span class="cn">NA</span>)</span>
<span id="cb136-5"><a href="#cb136-5" aria-hidden="true" tabindex="-1"></a>hh_data <span class="ot">&lt;-</span> <span class="fu">replace</span>(hh_data, hh_data<span class="sc">==</span><span class="st">'not applicable'</span>, <span class="cn">NA</span>)</span>
<span id="cb136-6"><a href="#cb136-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-7"><a href="#cb136-7" aria-hidden="true" tabindex="-1"></a>closeyear_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb136-8"><a href="#cb136-8" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(closing_year) <span class="sc">%&gt;%</span>   </span>
<span id="cb136-9"><a href="#cb136-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb136-10"><a href="#cb136-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb136-11"><a href="#cb136-11" aria-hidden="true" tabindex="-1"></a>closeyear_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  closing_year frequency
  &lt;chr&gt;            &lt;int&gt;
1 &lt;NA&gt;                 8
2 2022                 3
3 2014                 2
4 2017                 2
5 2019                 2
6 2012                 1
7 2020                 1
8 2021                 1</code></pre>
</div>
</div>
<ol start="22" type="1">
<li>Next, we’ll make a ‘two_parts’ frequency table.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb138"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb138-1"><a href="#cb138-1" aria-hidden="true" tabindex="-1"></a>twopart_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb138-2"><a href="#cb138-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(two_parts) <span class="sc">%&gt;%</span>   </span>
<span id="cb138-3"><a href="#cb138-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb138-4"><a href="#cb138-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb138-5"><a href="#cb138-5" aria-hidden="true" tabindex="-1"></a>twopart_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 8 × 2
  two_parts frequency
  &lt;chr&gt;         &lt;int&gt;
1 "No"             13
2 " No"             1
3 " No..."          1
4 "NO"              1
5 "No!"             1
6 "No..."           1
7 "YES."            1
8 "Yes."            1</code></pre>
</div>
</div>
<ol start="23" type="1">
<li>We need to manually change some values, and then re-call the frequency table to make sure there are only two possible values: ‘Yes’ and ‘No’.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb140"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb140-1"><a href="#cb140-1" aria-hidden="true" tabindex="-1"></a><span class="co">#manually change values</span></span>
<span id="cb140-2"><a href="#cb140-2" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>two_parts[hh_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">" No"</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb140-3"><a href="#cb140-3" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>two_parts[hh_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">" No..."</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb140-4"><a href="#cb140-4" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>two_parts[hh_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">"NO"</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb140-5"><a href="#cb140-5" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>two_parts[hh_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">"No!"</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb140-6"><a href="#cb140-6" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>two_parts[hh_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">"No..."</span>] <span class="ot">&lt;-</span> <span class="st">"No"</span></span>
<span id="cb140-7"><a href="#cb140-7" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>two_parts[hh_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">"YES."</span>] <span class="ot">&lt;-</span> <span class="st">"Yes"</span></span>
<span id="cb140-8"><a href="#cb140-8" aria-hidden="true" tabindex="-1"></a>hh_data<span class="sc">$</span>two_parts[hh_data<span class="sc">$</span>two_parts <span class="sc">==</span> <span class="st">"Yes."</span>] <span class="ot">&lt;-</span> <span class="st">"Yes"</span></span>
<span id="cb140-9"><a href="#cb140-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-10"><a href="#cb140-10" aria-hidden="true" tabindex="-1"></a>twopart_freq_table <span class="ot">&lt;-</span> hh_data <span class="sc">%&gt;%</span>   </span>
<span id="cb140-11"><a href="#cb140-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(two_parts) <span class="sc">%&gt;%</span>   </span>
<span id="cb140-12"><a href="#cb140-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">frequency =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span>   <span class="fu">arrange</span>(<span class="fu">desc</span>(frequency))  </span>
<span id="cb140-13"><a href="#cb140-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb140-14"><a href="#cb140-14" aria-hidden="true" tabindex="-1"></a>twopart_freq_table</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  two_parts frequency
  &lt;chr&gt;         &lt;int&gt;
1 No               18
2 Yes               2</code></pre>
</div>
</div>
<ol start="24" type="1">
<li>Saving the cleaned Hotel Hell data set as a CSV.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb142"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb142-1"><a href="#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">write.csv</span>(hh_data, <span class="at">file =</span></span>
<span id="cb142-2"><a href="#cb142-2" aria-hidden="true" tabindex="-1"></a>          <span class="st">"cleaned_hotel_hell.csv"</span>,</span>
<span id="cb142-3"><a href="#cb142-3" aria-hidden="true" tabindex="-1"></a>          <span class="at">row.names =</span> <span class="cn">FALSE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="data-formatting-1" class="level3">
<h3 class="anchored" data-anchor-id="data-formatting-1">Data Formatting</h3>
<ol type="1">
<li>Read in <a href="https://github.com/DataPreProcessing-FALL2024/Deli3Test/raw/refs/heads/main/DataCleanAndFormatted/Clean_HotelHell_Data.csv">Clean_HotelHell_Data</a> from Github link.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb143"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb143-1"><a href="#cb143-1" aria-hidden="true" tabindex="-1"></a>clean_hh_link <span class="ot">=</span> <span class="st">"https://github.com/DataPreProcessing-FALL2024/Deli3Test/raw/refs/heads/main/DataCleanAndFormatted/Clean_HotelHell_Data.csv"</span></span>
<span id="cb143-2"><a href="#cb143-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-3"><a href="#cb143-3" aria-hidden="true" tabindex="-1"></a>clean_hh <span class="ot">=</span> <span class="fu">read.csv</span>(clean_hh_link)</span>
<span id="cb143-4"><a href="#cb143-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb143-5"><a href="#cb143-5" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(clean_hh)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   20 obs. of  10 variables:
 $ season      : int  1 1 1 1 1 2 2 2 2 2 ...
 $ episode     : int  1 3 4 5 6 1 2 3 4 5 ...
 $ hotel       : chr  "Juniper Hill Inn" "Cambridge Hotel" "The Keating Hotel" "River Rock Inn" ...
 $ city        : chr  "Windsor" "Cambridge" "San Diego" "Milford" ...
 $ state       : chr  "VT" "NY" "CA" "PA" ...
 $ air_date    : chr  "2012-08-13" "2012-08-20" "2012-08-27" "2012-09-03" ...
 $ status      : chr  "Closed" "Closed" "Open" "Closed" ...
 $ film_month  : chr  "Feb 2012" "Jan 2012" "Dec 2011" "Jan 2012" ...
 $ closing_year: int  2014 2012 2022 2014 2020 NA 2017 NA NA 2022 ...
 $ two_parts   : chr  "Yes" "No" "No" "No" ...</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Check head() of the clean dataset.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb145"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb145-1"><a href="#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_hh)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  season episode             hotel          city state   air_date status
1      1       1  Juniper Hill Inn       Windsor    VT 2012-08-13 Closed
2      1       3   Cambridge Hotel     Cambridge    NY 2012-08-20 Closed
3      1       4 The Keating Hotel     San Diego    CA 2012-08-27   Open
4      1       5    River Rock Inn       Milford    PA 2012-09-03 Closed
5      1       6 The Roosevelt Inn Coeur d'Alene    ID 2012-09-03   Open
6      2       1  Meson De Mesilla    Las Cruces    NM 2014-07-21   Open
  film_month closing_year two_parts
1   Feb 2012         2014       Yes
2   Jan 2012         2012        No
3   Dec 2011         2022        No
4   Jan 2012         2014        No
5   Feb 2012         2020        No
6  June 2013           NA        No</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>TEXT DATA</li>
</ol>
<ul>
<li>We have many columns of text data (hotel, city, state, status, two_parts) here that we want to make sure are in either all upper case or all lower case. I will make all the text data for this data set lowercase.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb147"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb147-1"><a href="#cb147-1" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>hotel<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_hh<span class="sc">$</span>hotel)</span>
<span id="cb147-2"><a href="#cb147-2" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>city<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_hh<span class="sc">$</span>city)</span>
<span id="cb147-3"><a href="#cb147-3" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>state<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_hh<span class="sc">$</span>state)</span>
<span id="cb147-4"><a href="#cb147-4" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>status<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_hh<span class="sc">$</span>status)</span>
<span id="cb147-5"><a href="#cb147-5" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>two_parts<span class="ot">&lt;-</span><span class="fu">tolower</span>(clean_hh<span class="sc">$</span>two_parts)</span>
<span id="cb147-6"><a href="#cb147-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb147-7"><a href="#cb147-7" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(clean_hh)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   20 obs. of  10 variables:
 $ season      : int  1 1 1 1 1 2 2 2 2 2 ...
 $ episode     : int  1 3 4 5 6 1 2 3 4 5 ...
 $ hotel       : chr  "juniper hill inn" "cambridge hotel" "the keating hotel" "river rock inn" ...
 $ city        : chr  "windsor" "cambridge" "san diego" "milford" ...
 $ state       : chr  "vt" "ny" "ca" "pa" ...
 $ air_date    : chr  "2012-08-13" "2012-08-20" "2012-08-27" "2012-09-03" ...
 $ status      : chr  "closed" "closed" "open" "closed" ...
 $ film_month  : chr  "Feb 2012" "Jan 2012" "Dec 2011" "Jan 2012" ...
 $ closing_year: int  2014 2012 2022 2014 2020 NA 2017 NA NA 2022 ...
 $ two_parts   : chr  "yes" "no" "no" "no" ...</code></pre>
</div>
</div>
<ol start="4" type="1">
<li>NUMERIC DATA</li>
</ol>
<ul>
<li>First, we will create a new column for film_year and remove film_month since the month does not tell us much in terms of analysis.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb149"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb149-1"><a href="#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="co">#split 'film_month' column into 'month' and 'year' columns</span></span>
<span id="cb149-2"><a href="#cb149-2" aria-hidden="true" tabindex="-1"></a>clean_hh[<span class="fu">c</span>(<span class="st">'month'</span>, <span class="st">'year'</span>)] <span class="ot">&lt;-</span> </span>
<span id="cb149-3"><a href="#cb149-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">str_split_fixed</span>(clean_hh<span class="sc">$</span>film_month, <span class="st">' '</span>, <span class="dv">2</span>)</span>
<span id="cb149-4"><a href="#cb149-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-5"><a href="#cb149-5" aria-hidden="true" tabindex="-1"></a><span class="co">#remove 'month' and 'film_month' columns</span></span>
<span id="cb149-6"><a href="#cb149-6" aria-hidden="true" tabindex="-1"></a>clean_hh <span class="ot">&lt;-</span> <span class="fu">select</span>(clean_hh, <span class="sc">-</span>month)</span>
<span id="cb149-7"><a href="#cb149-7" aria-hidden="true" tabindex="-1"></a>clean_hh <span class="ot">&lt;-</span> <span class="fu">select</span>(clean_hh, <span class="sc">-</span>film_month)</span>
<span id="cb149-8"><a href="#cb149-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-9"><a href="#cb149-9" aria-hidden="true" tabindex="-1"></a><span class="co">#relocate back to original position</span></span>
<span id="cb149-10"><a href="#cb149-10" aria-hidden="true" tabindex="-1"></a>clean_hh <span class="ot">&lt;-</span> clean_hh <span class="sc">%&gt;%</span> </span>
<span id="cb149-11"><a href="#cb149-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(year, <span class="at">.before=</span>closing_year)</span>
<span id="cb149-12"><a href="#cb149-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb149-13"><a href="#cb149-13" aria-hidden="true" tabindex="-1"></a><span class="co">#rename 'year' column</span></span>
<span id="cb149-14"><a href="#cb149-14" aria-hidden="true" tabindex="-1"></a>clean_hh <span class="ot">&lt;-</span> clean_hh <span class="sc">%&gt;%</span> </span>
<span id="cb149-15"><a href="#cb149-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_at</span>(<span class="st">'year'</span>, <span class="sc">~</span><span class="st">'film_year'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ul>
<li>We have four columns of data that should be read in as numeric data (season, episode, film_year, closing_year). First, we will check to see what it is initially being read in as and if it needs changed, we will force it into being read as a numeric value. While film_year and closing_year are technically dates, it does not seem like it’s possible to convert it to datetime format since there is no month or day present in the data so we will just convert them both to numeric.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb150"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb150-1"><a href="#cb150-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_hh<span class="sc">$</span>season)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb152"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb152-1"><a href="#cb152-1" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>season <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(clean_hh<span class="sc">$</span>season)</span>
<span id="cb152-2"><a href="#cb152-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_hh<span class="sc">$</span>season)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb154"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb154-1"><a href="#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_hh<span class="sc">$</span>episode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb156"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb156-1"><a href="#cb156-1" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>episode <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(clean_hh<span class="sc">$</span>episode)</span>
<span id="cb156-2"><a href="#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_hh<span class="sc">$</span>episode)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb158"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb158-1"><a href="#cb158-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_hh<span class="sc">$</span>film_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "character"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb160"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb160-1"><a href="#cb160-1" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>film_year <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(clean_hh<span class="sc">$</span>film_year)</span>
<span id="cb160-2"><a href="#cb160-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_hh<span class="sc">$</span>film_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb162"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb162-1"><a href="#cb162-1" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_hh<span class="sc">$</span>closing_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "integer"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb164"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb164-1"><a href="#cb164-1" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>closing_year <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(clean_hh<span class="sc">$</span>closing_year)</span>
<span id="cb164-2"><a href="#cb164-2" aria-hidden="true" tabindex="-1"></a><span class="fu">typeof</span>(clean_hh<span class="sc">$</span>closing_year)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "double"</code></pre>
</div>
</div>
<ol start="5" type="1">
<li>Check to make sure changes to numeric format worked correctly using str() function.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb166"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb166-1"><a href="#cb166-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(clean_hh)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   20 obs. of  10 variables:
 $ season      : num  1 1 1 1 1 2 2 2 2 2 ...
 $ episode     : num  1 3 4 5 6 1 2 3 4 5 ...
 $ hotel       : chr  "juniper hill inn" "cambridge hotel" "the keating hotel" "river rock inn" ...
 $ city        : chr  "windsor" "cambridge" "san diego" "milford" ...
 $ state       : chr  "vt" "ny" "ca" "pa" ...
 $ air_date    : chr  "2012-08-13" "2012-08-20" "2012-08-27" "2012-09-03" ...
 $ status      : chr  "closed" "closed" "open" "closed" ...
 $ film_year   : num  2012 2012 2011 2012 2012 ...
 $ closing_year: num  2014 2012 2022 2014 2020 ...
 $ two_parts   : chr  "yes" "no" "no" "no" ...</code></pre>
</div>
</div>
<ol start="6" type="1">
<li>DATE DATA</li>
</ol>
<ul>
<li>There is one column that needs to be recognized as a date format (air_date).</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb168"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb168-1"><a href="#cb168-1" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(clean_hh<span class="sc">$</span>air_date)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2012-08-13" "2012-08-20" "2012-08-27" "2012-09-03" "2012-09-03"
[6] "2014-07-21"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb170"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb170-1"><a href="#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">strptime</span>(clean_hh<span class="sc">$</span>air_date, <span class="st">"%Y-%m-%d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "2012-08-13 EDT" "2012-08-20 EDT" "2012-08-27 EDT" "2012-09-03 EDT"
 [5] "2012-09-03 EDT" "2014-07-21 EDT" "2014-07-28 EDT" "2014-08-04 EDT"
 [9] "2014-08-11 EDT" "2014-08-18 EDT" "2014-08-25 EDT" "2014-09-01 EDT"
[13] "2014-09-09 EDT" "2016-05-24 EDT" "2016-05-31 EDT" "2016-06-07 EDT"
[17] "2016-06-21 EDT" "2016-06-28 EDT" "2016-07-19 EDT" "2016-07-26 EDT"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb172"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb172-1"><a href="#cb172-1" aria-hidden="true" tabindex="-1"></a>clean_hh<span class="sc">$</span>air_date<span class="ot">=</span> <span class="fu">strptime</span>(clean_hh<span class="sc">$</span>air_date, <span class="st">"%Y-%m-%d"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb173"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb173-1"><a href="#cb173-1" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(clean_hh)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'data.frame':   20 obs. of  10 variables:
 $ season      : num  1 1 1 1 1 2 2 2 2 2 ...
 $ episode     : num  1 3 4 5 6 1 2 3 4 5 ...
 $ hotel       : chr  "juniper hill inn" "cambridge hotel" "the keating hotel" "river rock inn" ...
 $ city        : chr  "windsor" "cambridge" "san diego" "milford" ...
 $ state       : chr  "vt" "ny" "ca" "pa" ...
 $ air_date    : POSIXlt, format: "2012-08-13" "2012-08-20" ...
 $ status      : chr  "closed" "closed" "open" "closed" ...
 $ film_year   : num  2012 2012 2011 2012 2012 ...
 $ closing_year: num  2014 2012 2022 2014 2020 ...
 $ two_parts   : chr  "yes" "no" "no" "no" ...</code></pre>
</div>
</div>
<ol start="7" type="1">
<li>Finally, we’ll save the newly formatted Hotel Hell data as a RDS file.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb175"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb175-1"><a href="#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(clean_hh, <span class="at">file =</span> <span class="st">"formatted_hh.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="merging-knhh-data" class="level2">
<h2 class="anchored" data-anchor-id="merging-knhh-data">Merging KN/HH Data</h2>
<ol type="1">
<li>Read in Formatted Kitchen Nightmares data from Github.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb176"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb176-1"><a href="#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb176-2"><a href="#cb176-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb176-3"><a href="#cb176-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-4"><a href="#cb176-4" aria-hidden="true" tabindex="-1"></a>formatted_kn_link <span class="ot">=</span> <span class="st">"https://github.com/Personal-Portfolio-Gordon-Ramsay-TCG/Gordon_Ramsay/raw/refs/heads/main/Formatted%20Data/formatted_kn.RDS"</span></span>
<span id="cb176-5"><a href="#cb176-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-6"><a href="#cb176-6" aria-hidden="true" tabindex="-1"></a>formatted_kn <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="fu">gzcon</span>(<span class="fu">url</span>(formatted_kn_link)))</span>
<span id="cb176-7"><a href="#cb176-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb176-8"><a href="#cb176-8" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(formatted_kn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  season episode          restaurant          city state   air_date status
1      1       1             peter's       babylon    ny 2007-09-19 closed
2      1       2            dillon's new york city    ny 2007-09-26 closed
3      1       3     the mixing bowl      bellmore    ny 2007-10-03 closed
4      1       4            seascape         islip    ny 2007-10-10 closed
5      1       5 the olde stone mill      tuckahoe    ny 2007-10-17 closed
6      1       6         sebastian's   toluca lake    ca 2007-11-07 closed
  film_year closing_year  cuisine revisited two_parts
1      2007         2008  italian        no        no
2      2007         2008   indian        no        no
3      2007         2009 american        no        no
4      2007         2007  seafood        no        no
5      2007         2022 american       yes        no
6      2007         2008    pizza        no        no</code></pre>
</div>
</div>
<ol start="2" type="1">
<li>Read in Formatted Hotel Hell data from Github.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb178"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb178-1"><a href="#cb178-1" aria-hidden="true" tabindex="-1"></a>formatted_hh_link <span class="ot">=</span> <span class="st">"https://github.com/Personal-Portfolio-Gordon-Ramsay-TCG/Gordon_Ramsay/raw/refs/heads/main/Formatted%20Data/formatted_hh.RDS"</span></span>
<span id="cb178-2"><a href="#cb178-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-3"><a href="#cb178-3" aria-hidden="true" tabindex="-1"></a>formatted_hh <span class="ot">=</span> <span class="fu">readRDS</span>(<span class="fu">gzcon</span>(<span class="fu">url</span>(formatted_hh_link)))</span>
<span id="cb178-4"><a href="#cb178-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb178-5"><a href="#cb178-5" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(formatted_hh)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  season episode             hotel          city state   air_date status
1      1       1  juniper hill inn       windsor    vt 2012-08-13 closed
2      1       3   cambridge hotel     cambridge    ny 2012-08-20 closed
3      1       4 the keating hotel     san diego    ca 2012-08-27   open
4      1       5    river rock inn       milford    pa 2012-09-03 closed
5      1       6 the roosevelt inn coeur d'alene    id 2012-09-03   open
6      2       1  meson de mesilla    las cruces    nm 2014-07-21   open
  film_year closing_year two_parts
1      2012         2014       yes
2      2012         2012        no
3      2011         2022        no
4      2012         2014        no
5      2012         2020        no
6      2013           NA        no</code></pre>
</div>
</div>
<ol start="3" type="1">
<li>In order for the ‘restaurant’ and ‘hotel’ columns to be understood as the same thing, we should rename those columns in each data frame to simply be ‘name’.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb180"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb180-1"><a href="#cb180-1" aria-hidden="true" tabindex="-1"></a>formatted_kn <span class="ot">&lt;-</span> formatted_kn <span class="sc">%&gt;%</span></span>
<span id="cb180-2"><a href="#cb180-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_at</span>(<span class="st">'restaurant'</span>, <span class="sc">~</span><span class="st">'name'</span>)</span>
<span id="cb180-3"><a href="#cb180-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-4"><a href="#cb180-4" aria-hidden="true" tabindex="-1"></a>formatted_hh <span class="ot">&lt;-</span> formatted_hh <span class="sc">%&gt;%</span></span>
<span id="cb180-5"><a href="#cb180-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">rename_at</span>(<span class="st">'hotel'</span>, <span class="sc">~</span><span class="st">'name'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="4" type="1">
<li>There are two columns that the kn_data has that hh_data does not. We should remove those so we have an easier time concatenating the two later.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb181"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb181-1"><a href="#cb181-1" aria-hidden="true" tabindex="-1"></a>formatted_kn <span class="ot">&lt;-</span> <span class="fu">select</span>(formatted_kn, <span class="sc">-</span>cuisine)</span>
<span id="cb181-2"><a href="#cb181-2" aria-hidden="true" tabindex="-1"></a>formatted_kn <span class="ot">&lt;-</span> <span class="fu">select</span>(formatted_kn, <span class="sc">-</span>revisited)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="5" type="1">
<li>Next, let’s create a ‘show’ column in both data frames so that we can either labels rows as being from Kitchen Nightmares or from Hotel Hell.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb182"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb182-1"><a href="#cb182-1" aria-hidden="true" tabindex="-1"></a>formatted_kn <span class="ot">&lt;-</span> formatted_kn <span class="sc">%&gt;%</span></span>
<span id="cb182-2"><a href="#cb182-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">show =</span> <span class="st">"kitchen nightmares"</span>)</span>
<span id="cb182-3"><a href="#cb182-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-4"><a href="#cb182-4" aria-hidden="true" tabindex="-1"></a>formatted_hh <span class="ot">&lt;-</span> formatted_hh <span class="sc">%&gt;%</span></span>
<span id="cb182-5"><a href="#cb182-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">show =</span> <span class="st">"hotel hell"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<ol start="6" type="1">
<li>Let’s compare column names to make sure everything looks equivalent.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb183"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb183-1"><a href="#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(formatted_kn)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "season"       "episode"      "name"         "city"         "state"       
 [6] "air_date"     "status"       "film_year"    "closing_year" "two_parts"   
[11] "show"        </code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb185"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb185-1"><a href="#cb185-1" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(formatted_hh)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1] "season"       "episode"      "name"         "city"         "state"       
 [6] "air_date"     "status"       "film_year"    "closing_year" "two_parts"   
[11] "show"        </code></pre>
</div>
</div>
<ol start="7" type="1">
<li>Both data frames have the exact same column names so we can do a vertical merge. We want to add on formatted_hh onto the bottom of formatted_kn.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb187"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb187-1"><a href="#cb187-1" aria-hidden="true" tabindex="-1"></a>merged_data <span class="ot">&lt;-</span> <span class="fu">rbind</span>(formatted_kn, formatted_hh)</span>
<span id="cb187-2"><a href="#cb187-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-3"><a href="#cb187-3" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(merged_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  season episode                name          city state   air_date status
1      1       1             peter's       babylon    ny 2007-09-19 closed
2      1       2            dillon's new york city    ny 2007-09-26 closed
3      1       3     the mixing bowl      bellmore    ny 2007-10-03 closed
4      1       4            seascape         islip    ny 2007-10-10 closed
5      1       5 the olde stone mill      tuckahoe    ny 2007-10-17 closed
6      1       6         sebastian's   toluca lake    ca 2007-11-07 closed
  film_year closing_year two_parts               show
1      2007         2008        no kitchen nightmares
2      2007         2008        no kitchen nightmares
3      2007         2009        no kitchen nightmares
4      2007         2007        no kitchen nightmares
5      2007         2022        no kitchen nightmares
6      2007         2008        no kitchen nightmares</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb189"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb189-1"><a href="#cb189-1" aria-hidden="true" tabindex="-1"></a><span class="fu">tail</span>(merged_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>    season episode                     name          city state   air_date
102      3       2               vienna inn   southbridge    ma 2016-05-31
103      3       3               town's inn harpers ferry    wv 2016-06-07
104      3       5           lakeview hotel        chelan    wa 2016-06-21
105      3       6              brick hotel       newtown    pa 2016-06-28
106      3       7   beachfront inn &amp; inlet   fort pierce    fl 2016-07-19
107      3       8 landoll's mohican castle   loudonville    oh 2016-07-26
    status film_year closing_year two_parts       show
102 closed      2015         2017        no hotel hell
103   open      2015           NA       yes hotel hell
104 closed      2015         2021        no hotel hell
105   open      2015           NA        no hotel hell
106 closed      2015         2019        no hotel hell
107   open      2015           NA        no hotel hell</code></pre>
</div>
</div>
<ol start="8" type="1">
<li>Finally, we’ll save the newly merged KN/HH data as an RDS file.</li>
</ol>
<div class="cell">
<div class="sourceCode cell-code" id="cb191"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb191-1"><a href="#cb191-1" aria-hidden="true" tabindex="-1"></a><span class="fu">saveRDS</span>(merged_data, </span>
<span id="cb191-2"><a href="#cb191-2" aria-hidden="true" tabindex="-1"></a>        <span class="at">file =</span> <span class="st">"merged_gordon_ramsay.RDS"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>